<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta name="description" content="Documentation for Docodile" />
    <meta name="author" content="Jake Carrington" />
    <meta name="color-scheme" content="dark light" />

    <title>Collapsible Headings</title>
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <link rel="stylesheet" type="text/css" href="/assets/styles/404.css" />
<link rel="stylesheet" type="text/css" href="/assets/styles/main.css" />
<link rel="stylesheet" type="text/css" href="/assets/styles/prism-themes/default-prism-theme.css" />
<link rel="stylesheet" type="text/css" href="/assets/styles/reset.css" />
<link rel="stylesheet" type="text/css" href="/assets/styles/vars.css" />


    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=IBM Plex Sans&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
  </head>
  <body
    data-gd-color-scheme="auto"
    data-gd-primary-color="very peri"
    data-gd-secondary-color="orange"
    data-gd-decorations="glint blend"
    data-gd-layout="compact"
    style="font-family: 'IBM Plex Sans'"
  >
    <header class="gd-header">
      <div class="gd-header-title">
        <i class="bi bi-book-half"></i>
        <a href="/" class="gd-title"><h1>Docodile</h1></a>
      </div>
      <div class="gd-nav-bar"><nav><menu><li><a href="/getting-started/index.html">Getting Started</a></li><li><a href="/setup/index.html">Setup</a></li><li class="active"><a href="/reference/index.html">Reference</a></li></menu></nav> <form class="gd-search" onsubmit="search(event)" oninput="search(event)">
  <div class="gd-search-box"></div>
  <div class="gd-search-bar">
    <input
      type="text"
      name="query"
      placeholder="Search..."
      class="gd-search-input"
      autocomplete="off"
    />
    <button type="submit" class="gd-search-button" tabindex="-1">
      <i class="bi bi-search"></i>
    </button>
  </div>
  <div id="results" hidden></div>
  <div class="gd-search-spotlight"></div>
  <script src="https://unpkg.com/lunr/lunr.js"></script>
  <script>
    let idx;
    const docs = {};

    async function initialiseSearch() {
      const response = await fetch("/assets/search.json");
      const documents = await response.json();
      idx = lunr(function () {
        this.ref("path");
        this.field("text");
        this.metadataWhitelist = ["position"];

        documents.forEach(function (doc) {
          this.add(doc);
          docs[doc.path] = doc;
        }, this);
      });
    }

    initialiseSearch();

    const resultsEl = document.querySelector("#results");

    let timeoutHandle;
    function search(ev) {
      clearTimeout(timeoutHandle);
      if (ev.type === "submit") ev.preventDefault();
      resultsEl.innerHTML = "";

      const value =
        ev.type === "input" ? ev.target.value : ev.target.query.value;

      if (value?.trim() === "") return;

      timeoutHandle = setTimeout(() => {
        const results = idx?.search(value);
        for (let result of results) {
          const doc = docs[result.ref];

          const resultEl = document.createElement("a");
          resultEl.tabIndex = 0;
          resultEl.href = doc.path;

          const titleEl = document.createElement("h1");
          titleEl.innerText = doc.name;

          resultEl.appendChild(titleEl);

          const textEl = document.createElement("p");
          const metadata = result?.matchData?.metadata ?? {};
          const [pos, length] = Object.values(metadata)[0]?.text
            ?.position?.[0] ?? [0, 0];
          const contextSize = 100;
          const start = pos;
          const end = pos + length;
          const contextStart =
            start - contextSize < 0 ? 0 : start - contextSize;
          const contextEnd = pos + length + contextSize;
          const beforeContext = doc.text.slice(contextStart, start);
          const match = doc.text.slice(start, end);
          const afterContext = doc.text.slice(end, contextEnd);
          textEl.innerHTML = `${beforeContext}<strong>${match}</strong>${afterContext}`;

          resultEl.appendChild(textEl);

          resultsEl.appendChild(resultEl);
        }

        if (results?.length > 0) {
          resultsEl.toggleAttribute("hidden");
        }
      }, 300);
    }
  </script>
</form>
</div>
    </header>
    <nav class="gd-breadcrumbs"><menu><li><span>Collapsible Headings</span></li><li><a href="/reference/markdown-extensions/index.html">Markdown Extensions</a></li><li><a href="/reference/index.html">Reference</a></li></menu></nav>
<main>
  <aside class="gd-nav">
    <nav><a class="gd-back" href="/reference/index.html">Reference</a> <ul><li><a href="/reference/markdown-extensions/index.html">Markdown Extensions</a></li><li><a href="/reference/markdown-extensions/admonitions.html">Admonitions</a></li><li><a href="/reference/markdown-extensions/collapsible-headings.html" class="active">Collapsible Headings</a></li><li><a href="/reference/markdown-extensions/tables.html">Tables</a></li></ul></nav>
  </aside>
  <article class="gd-article">
  <h1 id="collapsible-headings">
    Collapsible headings
  </h1>
  <details open >
    <summary>
      <h2 id="example">
        Example 
      </h2>
    </summary>
    <p>
      A simple addition to the basic Markdown syntax is the ability to indent content below a heading to make it a collapsible area. The heading will become an interactive collapse toggle and all indented content will be hidden away when the reader clicks it.
    </p>
    <div class="admonition note">
      <p class="admonition-title">
        Note
      </p>
      <p>
        You can use any Markdown inside these collapsed sections, including other Markdown extensions such as admonitions.
      </p>
    </div>
    <details>
      <summary>
        <h3 id="nesting-example">
          Nesting example
        </h3>
      </summary>
      <p>
        You can nest collapsing headings, but it is not recommended as it can become quite hard for the reader to understand the hierarchy of content. Try to stick to one level of nesting. If within a collapsing area you want to de-emphasise the importance of something, or indicate that it is an aside, use admonitions instead.
      </p>
    </details>
  </details>
  <h2 id="default-behaviour">
    Default behaviour
  </h2>
  <p>
    By default collapsible headings will be closed. But you can override this behaviour using inline attributes.
  </p>
  <pre class="language-markdown">
    <code>
# Collapsing heading { open }
    </code>
  </pre>
  <h2 id="mutually-exclusive-collapsing">
    Mutually exclusive collapsing
  </h2>
  <p>
    Sometimes you might want to have a set of collapsing headings where only one can be open at a time. If you give multiple collapsing headings the same name attribute the browser will automatically close the others when one is opened.
  </p>
  <details name="requirements" >
    <summary>
      <h3 id="graduation-requirements">
        Graduation Requirements 
      </h3>
    </summary>
    <p>
      Requires 40 credits, including a passing grade in health, geography, history, economics, and wood shop.
    </p>
  </details>
  <details name="requirements" >
    <summary>
      <h3 id="system-requirements">
        System Requirements 
      </h3>
    </summary>
    <p>
      Requires a computer running an operating system. The computer must have some memory and ideally some kind of long-term storage. An input device as well as some form of output device is recommended.
    </p>
  </details>
  <details name="requirements" >
    <summary>
      <h3 id="job-requirements">
        Job Requirements 
      </h3>
    </summary>
    <p>
      Requires knowledge of HTML, CSS, JavaScript, accessibility, web performance, privacy, security, and internationalization, as well as a dislike of broccoli.
    </p>
  </details>
  <pre class="language-markdown">
    <code>
### Graduation Requirements { name="requirements" }

    Requires 40 credits, including a passing grade in health, geography, history, economics, and wood shop.

### System Requirements { name="requirements" }

    Requires a computer running an operating system. The computer must have some memory and ideally some kind of long-term storage. An input device as well as some form of output device is recommended.

### Job Requirements { name="requirements" }

    Requires knowledge of HTML, CSS, JavaScript, accessibility, web performance, privacy, security, and internationalization, as well as a dislike of broccoli.
    </code>
  </pre>
</article>
  <aside class="gd-toc"><nav><ul><li><a class="toc-1" href="#collapsible-headings">Collapsible headings</a></li><li><a class="toc-2" href="#example-{-open-}">Example </a></li><li><a class="toc-3" href="#nesting-example">Nesting example</a></li><li><a class="toc-2" href="#default-behaviour">Default behaviour</a></li><li><a class="toc-2" href="#mutually-exclusive-collapsing">Mutually exclusive collapsing</a></li><li><a class="toc-3" href="#graduation-requirements-{-name="requirements"-}">Graduation Requirements </a></li><li><a class="toc-3" href="#system-requirements-{-name="requirements"-}">System Requirements </a></li><li><a class="toc-3" href="#job-requirements-{-name="requirements"-}">Job Requirements </a></li></ul></nav></aside>
</main>

    <footer class="gd-footer">
      <nav class="gd-footer-nav"><a class="gd-nav-link prev" href="/reference/markdown-extensions/admonitions.html"><div><small>Prev</small><h2>Admonitions</h2></div><i class="bi bi-arrow-left-short"></i></a><a class="gd-nav-link next" href="/reference/markdown-extensions/tables.html"><div><small>Next</small><h2>Tables</h2></div><i class="bi bi-arrow-right-short"></i></a></nav>
      <div class="gd-footer-info">
        <a class="gd-repo hidden" href="https://github.com/docodile/docodile">
  <i id="repo-icon" class="bi bi-github"></i>
  <div id="repo-info">
    <div>
      <small id="repo-owner"></small
      ><small id="repo-name">docodile/docodile</small>
    </div>
    <div id="repo-metadata">
      <span id="repo-language">
        <i class="bi bi-circle-fill"></i>
        <span></span>
      </span>
      <span id="repo-stars">
        <i class="bi bi-star-fill"></i>
        <span></span>
      </span>
      <span id="repo-latest">
        <i class="bi bi-tag-fill"></i>
        <span></span>
      </span>
    </div>
  </div>
</a>

<script>
  // { name, full_name, html_url, stargazers_count, language }
  const repo = "docodile/docodile";

  async function getRepoData() {
    try {
      const data = await fetch(`https://api.github.com/repos/${repo}`);
      return await data.json();
    } catch {}
  }

  async function getLatestRelease() {
    try {
      const data = await fetch(
        `https://api.github.com/repos/${repo}/releases/latest`
      );
      return await data.json();
    } catch {}
  }

  async function getRepoInfo() {
    const {
      name,
      full_name,
      html_url: repo_url,
      stargazers_count,
      language,
      owner: { login },
    } = await getRepoData();
    const { tag_name, html_url: release_url } = await getLatestRelease();
    return {
      name,
      full_name,
      repo_url,
      stargazers_count,
      language,
      tag_name,
      release_url,
      owner: login,
    };
  }

  async function getCachedRepoInfo() {
    const cached = sessionStorage.getItem("repo");
    let repo = JSON.parse(cached);
    if (!repo) {
      repo = await getRepoInfo();
      sessionStorage.setItem("repo", JSON.stringify(repo));
    }
    return repo;
  }

  async function buildRepoLink() {
    const {
      name,
      full_name,
      repo_url,
      stargazers_count,
      language,
      tag_name,
      release_url,
      owner,
    } = await getCachedRepoInfo();

    const repoEl = document.querySelector(".gd-repo");
    const repoOwnerEl = repoEl.querySelector("#repo-owner");
    repoOwnerEl.textContent = owner + "/";
    const repoNameEl = repoEl.querySelector("#repo-name");
    repoNameEl.textContent = name;
    const starsEl = repoEl.querySelector("#repo-stars span");
    starsEl.textContent = String(stargazers_count);
    const latestEl = repoEl.querySelector("#repo-latest span");
    latestEl.textContent = tag_name ?? "No releases";
    const languageEl = repoEl.querySelector("#repo-language span");
    languageEl.textContent = language;

    repoEl.classList.remove("hidden");
  }

  if (repo.length > 0) {
    buildRepoLink();
  }
</script>

        <div>
          Built with
          <a href="https://docodile.github.io">
            <span class="highlight">Docodile</span>
          </a>
        </div>
      </div>
    </footer>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-core.min.js"
      integrity="sha512-Uw06iFFf9hwoN77+kPl/1DZL66tKsvZg6EWm7n6QxInyptVuycfrO52hATXDRozk7KWeXnrSueiglILct8IkkA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/autoloader/prism-autoloader.min.js"
      integrity="sha512-SkmBfuA2hqjzEVpmnMt/LINrjop3GKWqsuLSSB3e7iBmYK7JuWw4ldmmxwD9mdm2IRTTi0OxSAfEGvgEi0i2Kw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </body>
</html>
